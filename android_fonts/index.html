<!DOCTYPE html>
<html>
<head>
  <style>
  @import url(//fonts.googleapis.com/css?family=Inconsolata:400,700);
  body {
    font-family: 'Inconsolata', sans-serif;
    margin: 1em;
  }
  h1 {
    font-size: 3em;
  }
  </style>
  <script>
  function log(str) {
    let d = new Date();
    console.log(`${d.getHours()}:${d.getMinutes()}:${d.getSeconds()}.${d.getMilliseconds()} `
                + str);
  }

  function requestJson(path, method='GET') {
    let url = path;
    let req = new XMLHttpRequest();
    req.responseType = 'json';
    req.open(method, url, true);
    log(method + ' ' + url);
    return req;
  }

  window.addEventListener('DOMContentLoaded', function() {
    let req = requestJson('emoji_summary.json')
    req.addEventListener('load', (e) => { 
      log(`${req.responseURL} ${e.type}: ${e.loaded} bytes transferred\n`);
      summary = req.response

      for (api_level in summary) {
        info = summary[api_level]
        if (!!!info['emoji_support'].length) continue;
        
        info_str = `${info.name} (${info.version}, api ${api_level})\n`
        info.emoji_support.forEach((e) => {
          info_str += '  ';
          info_str += JSON.stringify(e);
          info_str += '\n';
        });
        pre = document.createElement('pre');
        pre.innerText = info_str
        document.body.appendChild(pre);
      }
    })
    req.send();
  });
  </script>
</head>
<body>
  <h1>Android Font Support</h1>

</body>
</html>
